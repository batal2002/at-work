{"version":3,"file":"static/js/458.a52c70ec.chunk.js","mappings":"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","sources":["webpack://atwork_test/./src/features/GoBackButton/ui/GoBackButton.module.scss?bf4b","features/GoBackButton/ui/GoBackButton.tsx","webpack://atwork_test/./src/widgets/ProfileCard/ui/ProfileCard.module.scss?c29f","widgets/ProfileCard/ui/ProfileCard.tsx","webpack://atwork_test/./src/pages/ProfilePage/ui/ProfilePage.module.scss?2df9","webpack://atwork_test/./src/widgets/ProfileForm/ui/ProfileForm.module.scss?238a","webpack://atwork_test/./src/shared/ui/Input/Input.module.scss?eef6","shared/lib/useOutsideClick.ts","shared/ui/Input/Input.tsx","webpack://atwork_test/./src/shared/ui/Button/Button.module.scss?cbd2","shared/ui/Button/Button.tsx","webpack://atwork_test/./src/shared/ui/Modal/Modal.module.scss?37a1","shared/ui/Modal/Modal.tsx","widgets/ProfileForm/ui/ProfileForm.tsx","pages/ProfilePage/ui/ProfilePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"GoBackButton_button__YUlRv\"};","import React from 'react';\r\nimport cls from \"./GoBackButton.module.scss\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst GoBackButton = () => {\r\n    const navigate = useNavigate();\r\n    return (\r\n        <button className={cls.button} onClick={() => navigate(-1)}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"21\" height=\"22\" viewBox=\"0 0 21 22\" fill=\"none\">\r\n                <path d=\"M13.125 11H0.875\" stroke=\"#595959\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                <path d=\"M7 17.125L0.875 11L7 4.875\" stroke=\"#595959\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n            </svg>\r\n\r\n            Назад\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default GoBackButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ProfileCard_wrapper__7rvuY\",\"avatar\":\"ProfileCard_avatar__PjT6S\",\"list\":\"ProfileCard_list__1JS4e\",\"item\":\"ProfileCard_item__uVqO0\",\"active\":\"ProfileCard_active__58n-I\"};","import React from 'react';\r\nimport cls from './ProfileCard.module.scss'\r\nimport avatar from '../../../shared/assets/images/avatar.png'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ProfileCard = () => {\r\n\r\n    return (\r\n        <div className={cls.wrapper}>\r\n            <img src={avatar} alt=\"avatar\" className={cls.avatar}/>\r\n            <div className={cls.list}>\r\n                <Link to={'./'} className={cls.item + ' ' + cls.active}>Данные профиля</Link>\r\n                <Link to={'./'} className={cls.item}>Рабочее пространство</Link>\r\n                <Link to={'./'} className={cls.item}>Приватность</Link>\r\n                <Link to={'./'} className={cls.item}>Безопасность</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCard;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ProfilePage_wrapper__SsDob\",\"loader\":\"ProfilePage_loader__MmfK5\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ProfileForm_wrapper__GhiWL\",\"form\":\"ProfileForm_form__Ciryh\",\"title\":\"ProfileForm_title__g1yoZ\",\"buttonWrapper\":\"ProfileForm_buttonWrapper__YPCCc\",\"error\":\"ProfileForm_error__7+CQN\",\"loader\":\"ProfileForm_loader__Su44n\"};","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Input_title__Ev44S\",\"input\":\"Input_input__jJg6Y\",\"wrapper\":\"Input_wrapper__qQ5gW\",\"button\":\"Input_button__Q6Gca\",\"error\":\"Input_error__n7N7i\"};","import {RefObject, useEffect} from \"react\";\r\n\r\nexport const useOutsideClick = (ref: RefObject<HTMLElement>, callback: () => void) => {\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (ref.current && !ref.current.contains(event.target as Node)) {\r\n                callback()\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside)\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside)\r\n        }\r\n    }, [ref])\r\n}\r\n","import React, {ChangeEvent, useRef, useState} from 'react';\r\nimport cls from './Input.module.scss'\r\nimport {useFormContext} from \"react-hook-form\";\r\nimport {useOutsideClick} from \"../../lib/useOutsideClick\";\r\n\r\ninterface InputProps {\r\n    title: string\r\n    type: string\r\n    name: string\r\n}\r\n\r\nconst Input = ({title, type, name}: InputProps) => {\r\n    const [active, setActive] = useState<boolean>(false)\r\n    const {register, reset, setFocus, formState: {errors}} = useFormContext()\r\n    const wrapper = useRef<HTMLDivElement | null>(null)\r\n\r\n    useOutsideClick(wrapper, () => setActive(false))\r\n\r\n    const clearInput = () => {\r\n        setFocus(name)\r\n        reset({[name]: ''})\r\n    }\r\n\r\n    const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        e.target.value.length === 0 ? setActive(false) : setActive(true)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <label htmlFor={title} className={cls.title}>{title}</label>\r\n            <div className={cls.wrapper} ref={wrapper}>\r\n                <input id={title} type={type}  {...register(name, {required: true})} className={cls.input}\r\n                       onFocus={() => setActive(true)}\r\n                       onChange={(e) => onChange(e)}\r\n                />\r\n                {active && <button\r\n                    type={'button'}\r\n                    onClick={clearInput}\r\n                    className={cls.button}></button>}\r\n            </div>\r\n            {errors?.[name] && <span className={cls.error}>Поле не должно быть пустым</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__fIaYt\"};","import {ButtonHTMLAttributes, FC, ReactNode} from 'react';\nimport cls from './Button.module.scss';\n\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    children: string | ReactNode;\n}\n\nexport const Button: FC<ButtonProps> = ({children, ...props}) => {\n    return (\n        <button className={cls.button } {...props} >\n            {children}\n        </button>\n    );\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"Modal_overlay__kO+e+\",\"modal\":\"Modal_modal__IyEeo\",\"button\":\"Modal_button__YJGaH\",\"image\":\"Modal_image__ckzoR\",\"text\":\"Modal_text__DMpqU\"};","import React, {Dispatch, SetStateAction, useEffect} from 'react';\r\nimport cls from './Modal.module.scss'\r\n\r\ninterface ModalProps {\r\n    openModal: boolean\r\n    setOpenModal: Dispatch<SetStateAction<boolean>>\r\n}\r\n\r\nconst Modal = ({openModal, setOpenModal}: ModalProps) => {\r\n\r\n    const closeModal = () => {\r\n        setOpenModal(false)\r\n        document.body.style.overflow = 'auto';\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const timeout = setTimeout(() => {\r\n            closeModal()\r\n        }, 4000)\r\n        return () => {\r\n            clearTimeout(timeout)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={cls.overlay} onClick={closeModal}>\r\n            <div className={cls.modal} onClick={(e) => e.stopPropagation()}>\r\n                <button className={cls.button} onClick={closeModal}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\">\r\n                        <path\r\n                            d=\"M18.7433 10.494C19.085 10.1523 19.085 9.59823 18.7433 9.25653C18.4016 8.91482 17.8476 8.91482 17.5059 9.25653L13.9998 12.7626L10.4937 9.25653C10.152 8.91482 9.598 8.91482 9.25629 9.25653C8.91458 9.59823 8.91458 10.1523 9.25629 10.494L12.7624 14L9.25628 17.5061C8.91457 17.8478 8.91457 18.4018 9.25628 18.7435C9.59799 19.0852 10.152 19.0852 10.4937 18.7435L13.9998 15.2375L17.5059 18.7435C17.8476 19.0853 18.4016 19.0853 18.7433 18.7435C19.085 18.4018 19.085 17.8478 18.7433 17.5061L15.2372 14L18.7433 10.494Z\"\r\n                            fill=\"#595959\"/>\r\n                    </svg>\r\n                </button>\r\n                <svg className={cls.image} xmlns=\"http://www.w3.org/2000/svg\" width=\"85\" height=\"84\" viewBox=\"0 0 85 84\"\r\n                     fill=\"none\">\r\n                    <path\r\n                        d=\"M26.1087 13.1907C36.9151 11.983 48.085 11.983 58.8914 13.1907C62.9487 13.6442 66.5103 15.8383 68.7633 19.0246L40.7501 47.0378L32.1063 38.394C31.0812 37.3688 29.4191 37.3688 28.394 38.394C27.3688 39.4191 27.3688 41.0811 28.394 42.1063L38.894 52.6063C39.9191 53.6314 41.5812 53.6314 42.6063 52.6063L71.0103 24.2023C71.089 24.5857 71.1517 24.9751 71.1979 25.3698C72.4902 36.419 72.4902 47.5812 71.1979 58.6304C70.4459 65.0598 65.2838 70.095 58.8914 70.8095C48.085 72.0173 36.9151 72.0173 26.1087 70.8095C19.7164 70.095 14.5542 65.0598 13.8022 58.6304C12.5099 47.5812 12.5099 36.419 13.8022 25.3698C14.5542 18.9404 19.7164 13.9052 26.1087 13.1907Z\"\r\n                        fill=\"#C6F4C6\"/>\r\n                </svg>\r\n\r\n                <span className={cls.text}>Изменения сохранены!</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import React, {useEffect, useState} from 'react';\r\nimport cls from './ProfileForm.module.scss'\r\nimport Input from \"../../../shared/ui/Input/Input\";\r\nimport {FormProvider, SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {Button} from \"../../../shared/ui/Button/Button\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../shared/lib/redux\";\r\nimport {Loader} from \"../../../shared/ui/Loader/Loader\";\r\nimport Modal from \"../../../shared/ui/Modal/Modal\";\r\nimport {updateUser} from \"../../../entities/User/model/services/updateUser\";\r\n\r\ninterface FormInputs {\r\n    name: string\r\n    username: string\r\n    email: string\r\n    city: string\r\n    phone: string\r\n    company: string\r\n}\r\n\r\nconst ProfileForm = () => {\r\n    const {user, isUpdating, updateStatus, updatingError, isLoading} = useAppSelector(state => state.user)\r\n    const dispatch = useAppDispatch()\r\n    const [openModal, setOpenModal] = useState<boolean>(false)\r\n    const methods = useForm<FormInputs>({\r\n        defaultValues: {\r\n            name: user?.name || '',\r\n            username: user?.username || '',\r\n            email: user?.email || '',\r\n            city: user?.address.city || '',\r\n            phone: user?.phone || '',\r\n            company: user?.company.name || '',\r\n        },\r\n    })\r\n    const {handleSubmit} = methods\r\n    const onSubmit: SubmitHandler<FormInputs> = (data) => {\r\n        if (user) {\r\n            dispatch(updateUser({\r\n                id: user.id,\r\n                username: data.username,\r\n                name: data.name,\r\n                email: data.email,\r\n                phone: data.phone,\r\n                address: {city: data.city},\r\n                company: {name: data.company}\r\n            }))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (updateStatus && !isUpdating && 200 <= updateStatus && updateStatus <= 299) {\r\n            setOpenModal(true)\r\n            document.body.style.overflow = 'hidden';\r\n        }\r\n        return () => {\r\n            setOpenModal(false)\r\n        }\r\n    }, [updateStatus, isUpdating])\r\n\r\n    return (\r\n        <div className={cls.wrapper}>\r\n            <h3 className={cls.title}>Данные профиля</h3>\r\n            <FormProvider {...methods}>\r\n                <form onSubmit={handleSubmit(onSubmit)} className={cls.form}>\r\n                    <Input type={'text'} title={'Имя'} name='name'/>\r\n                    <Input type={'text'} title={'Никнейм'} name='username'/>\r\n                    <Input type={'text'} title={'Почта'} name='email'/>\r\n                    <Input type={'text'} title={'Город'} name='city'/>\r\n                    <Input type={'text'} title={'Телефон'} name='phone'/>\r\n                    <Input type={'text'} title={'Название компании'} name='company'/>\r\n                    {isUpdating ?\r\n                        <div className={cls.loader}>\r\n                            <Loader size={46}/>\r\n                        </div> :\r\n                        <div className={cls.buttonWrapper}>\r\n                            <Button type={'submit'}>Сохранить</Button>\r\n                            {updatingError && <p className={cls.error}>{updatingError}</p>}\r\n                        </div>\r\n                    }\r\n                </form>\r\n            </FormProvider>\r\n            {openModal && <Modal openModal={openModal} setOpenModal={setOpenModal}/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileForm;\r\n","import React, {useEffect} from 'react';\nimport {GoBackButton} from \"../../../features/GoBackButton\";\nimport {useParams} from \"react-router-dom\";\nimport {useAppDispatch, useAppSelector} from \"../../../shared/lib/redux\";\nimport {fetchUser} from \"../../../entities/User/model/services/fetchUserData\";\nimport {ProfileCard} from \"../../../widgets/ProfileCard\";\nimport cls from './ProfilePage.module.scss'\nimport {ProfileForm} from \"../../../widgets/ProfileForm\";\nimport {Loader} from \"../../../shared/ui/Loader/Loader\";\nimport {resetState} from \"../../../entities/User/model/slice/UserSlice\";\n\n\nconst ProfilePage = () => {\n    const id = useParams().id\n    const dispatch = useAppDispatch()\n    const {error, isLoading} = useAppSelector(state => state.user)\n\n\n    useEffect(() => {\n        if (id) {\n            dispatch(fetchUser(id))\n        }\n    }, [id])\n\n    useEffect(() => {\n        return () => {\n            dispatch(resetState())\n        }\n    }, [])\n\n    return (\n        <>\n            <GoBackButton/>\n            {isLoading ?\n                <div className={cls.loader}>\n                    <Loader size={70}/>\n                </div> :\n                error ?\n                    <span>{error}</span> :\n                    <div className={cls.wrapper}>\n                        <ProfileCard/>\n                        <ProfileForm/>\n                    </div>\n            }\n\n        </>\n    );\n};\n\nexport default ProfilePage;\n"],"names":["GoBackButton","navigate","useNavigate","_jsxs","className","cls","onClick","children","xmlns","width","height","viewBox","fill","_jsx","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ProfileCard","src","avatar","alt","Link","to","_ref","title","type","name","active","setActive","useState","register","reset","setFocus","formState","errors","useFormContext","wrapper","useRef","useOutsideClick","ref","callback","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","htmlFor","id","required","onFocus","onChange","e","value","length","clearInput","Button","props","openModal","setOpenModal","closeModal","body","style","overflow","timeout","setTimeout","clearTimeout","stopPropagation","ProfileForm","user","isUpdating","updateStatus","updatingError","isLoading","useAppSelector","state","dispatch","useAppDispatch","methods","useForm","defaultValues","username","email","city","address","phone","company","handleSubmit","FormProvider","onSubmit","data","updateUser","Input","Loader","size","Modal","ProfilePage","useParams","error","fetchUser","resetState","_Fragment"],"sourceRoot":""}